<!DOCTYPE html>
<html lang="es">
<head>
  <!-- Meta Tags Esenciales -->
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="P√°gina personal de Sa√∫l. M√∫sico, programador y estudiante ciego. Explora mis habilidades, publicaciones y proyectos.">
  <meta name="keywords" content="Sa√∫l, m√∫sica, programaci√≥n, ciego, accesibilidad, blog">
  <meta name="author" content="Sa√∫l">
  
  <!-- Open Graph para redes sociales -->
  <meta property="og:title" content="P√°gina personal de Sa√∫l - M√∫sico y Programador">
  <meta property="og:description" content="Explora los proyectos y habilidades de Sa√∫l, un m√∫sico, programador y estudiante ciego.">
  <meta property="og:type" content="website">
  
  <!-- Title -->
  <title>Sa√∫l | M√∫sico, Programador y Estudiante</title>
  
  <!-- Favicon -->
  <link rel="icon" type="image/png" href="una guitarra ac√∫stic.png">
  
  <!-- CSS -->
  <link rel="stylesheet" href="estilos.css">
  
  <!-- Preconectar a recursos externos -->
  <link rel="preconnect" href="https://creativecommons.org">
</head>
<body>
  <!-- Skip Link para accesibilidad -->
  <a href="#main-content" class="skip-link">Ir al contenido principal</a>

  <!-- Encabezado Principal -->
  <header role="banner" aria-label="Encabezado de la p√°gina">
    <!-- Hora actual -->
    <div class="hora-container" aria-live="polite" aria-label="Hora actual">
      <time id="horaActual">Cargando hora...</time>
    </div>

    <!-- Logo -->
    <div class="logo-container">
      <img 
        src="una guitarra ac√∫stic.png" 
        alt="Logo de guitarra ac√∫stica - P√°gina de Sa√∫l" 
        class="logo" 
        width="200" 
        height="200">
    </div>

    <!-- Navegaci√≥n Principal -->
    <nav role="navigation" aria-label="Navegaci√≥n principal">
      <ul class="nav-list">
        <li><a href="#habilidades">Habilidades</a></li>
        <li><a href="#cambios">Cambios Recientes</a></li>
        <li><a href="#blog">Blog</a></li>
        <li><a href="#contenido">Contenido</a></li>
        <li><a href="#publicaciones">Publicaciones</a></li>
      </ul>
    </nav>

    <!-- Controles de Accesibilidad -->
    <div class="accessibility-controls" role="region" aria-label="Controles de accesibilidad">
      <button 
        id="toggleAccessibility" 
        class="btn-accessibility" 
        aria-expanded="false"
        aria-controls="accessibilityMenu">
        ‚öôÔ∏è Accesibilidad
      </button>
      <div id="accessibilityMenu" class="accessibility-menu" hidden>
        <button id="btnIncrease" class="btn-small" aria-label="Aumentar tama√±o de texto">Aumentar +</button>
        <button id="btnDecrease" class="btn-small" aria-label="Disminuir tama√±o de texto">Disminuir ‚àí</button>
        <button id="btnReset" class="btn-small" aria-label="Restablecer tama√±o de texto">Restablecer</button>
        <button id="btnContrast" class="btn-small" aria-label="Alternar alto contraste">Alto Contraste</button>
        <button id="btnDarkMode" class="btn-small" aria-label="Cambiar modo claro/oscuro">Modo Oscuro</button>
      </div>
    </div>
  </header>

  <!-- Contenido Principal -->
  <main id="main-content" role="main">
    
    <!-- Secci√≥n Hero / Bienvenida -->
    <section id="hero" class="hero-section" aria-labelledby="main-title">
      <h1 id="main-title">Bienvenido a Mi Espacio Digital</h1>
      <p class="lead">
        Soy m√∫sico, programador y estudiante ciego. Me gusta crear cosas, ya sea con sonidos o con l√≠neas de c√≥digo. 
        A veces compongo, otras veces escribo programas, y muchas veces hago las dos cosas al mismo tiempo. 
        Me gusta aprender, experimentar y compartir lo que voy descubriendo en el camino.
      </p>
    </section>

    <!-- Secci√≥n Habilidades -->
    <section id="habilidades" aria-labelledby="skills-title">
      <h2 id="skills-title">Mis Habilidades por √Årea</h2>
      <table class="skills-table">
        <caption>Tabla de habilidades t√©cnicas y musicales</caption>
        <thead>
          <tr>
            <th scope="col">√Årea</th>
            <th scope="col">Herramientas / Habilidades</th>
            <th scope="col">Nivel</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>M√∫sica</td>
            <td>Guitarra ac√∫stica, composici√≥n, grabaci√≥n y producci√≥n musical</td>
            <td>Avanzado</td>
          </tr>
          <tr>
            <td>Programaci√≥n</td>
            <td>HTML, CSS, JavaScript, C++, NVGT, BGT y Lua</td>
            <td>Intermedio</td>
          </tr>
          <tr>
            <td>Acad√©mico</td>
            <td>Lectura en braille, investigaci√≥n, redacci√≥n</td>
            <td>Avanzado</td>
          </tr>
        </tbody>
      </table>
    </section>

    <!-- Secci√≥n Cambios Recientes -->
    <section id="cambios" aria-labelledby="recent-title">
      <h2 id="recent-title">Cambios Recientes en la P√°gina</h2>
      <p>Aqu√≠ encontrar√°s todas las actualizaciones y cambios realizados en el sitio.</p>
      <a href="cambios-resientes.html" class="btn-primary" target="_blank" rel="noopener noreferrer">
        Ver cambios recientes
      </a>
    </section>

    <!-- Secci√≥n Blog -->
    <section id="blog" aria-labelledby="blog-title">
      <h2 id="blog-title">Blog</h2>
      <p>Lee mis art√≠culos y reflexiones sobre m√∫sica, programaci√≥n y accesibilidad.</p>
      <a href="blog.html" class="btn-primary" target="_blank" rel="noopener noreferrer">
        Ir al blog
      </a>
    </section>

    <!-- Secci√≥n Contenido -->
    <section id="contenido" aria-labelledby="content-title">
      <h2 id="content-title">Contenido</h2>
      <p>Filtra por categor√≠a o busca por palabras clave para encontrar lo que te interesa.</p>

      <!-- Filtro por categor√≠a -->
      <div class="filter-section">
        <label for="filterCategory">Filtrar por categor√≠a:</label>
        <select id="filterCategory" aria-label="Filtrar contenido por categor√≠a">
          <option value="">-- Selecciona una opci√≥n --</option>
          <option value="musica">üéµ M√∫sica</option>
          <option value="programacion">üíª Programaci√≥n</option>
          <option value="escolares">üìö Acad√©mico</option>
          <option value="arte">üé® Arte</option>
          <option value="otros">‚ú® Otros</option>
        </select>
      </div>

      <!-- Buscador -->
      <div class="search-section">
        <label for="searchInput">Buscar publicaciones:</label>
        <div class="search-box">
          <input 
            type="search" 
            id="searchInput" 
            placeholder="Escribe palabras clave..." 
            aria-label="Buscar en publicaciones"
            autocomplete="off">
          <button id="btnSearch" class="btn-primary" aria-label="Ejecutar b√∫squeda">Buscar</button>
        </div>
      </div>

      <!-- Resultados de b√∫squeda -->
      <div id="searchResults" class="search-results" role="region" aria-live="polite" aria-label="Resultados de b√∫squeda"></div>
    </section>

    <!-- Secci√≥n Publicaciones -->
    <section id="publicaciones" aria-labelledby="publications-title">
      <h2 id="publications-title">Publicaciones</h2>
      
      <div class="publications-container">
        <article data-category="otros" data-keywords="braille, simulador, accesibilidad, interactivo, herramienta">
          <h3>Simulador Braille</h3>
          <span class="category-badge">Otros</span>
          <p>Prueba este simulador interactivo del sistema braille.</p>
          <a href="SimuladorBralle.html" class="btn-secondary">Acceder al simulador</a>
        </article>

        <article data-category="escolares" data-keywords="educaci√≥n, derecho, pol√≠ticas, escolar, derechos">
          <h3>Derecho a la Educaci√≥n</h3>
          <span class="category-badge">Escolares</span>
          <p>Publicaci√≥n sobre las pol√≠ticas del derecho a la educaci√≥n.</p>
          <a href="publicasiondepotcas.html" class="btn-secondary">Leer art√≠culo</a>
        </article>

        <article data-category="programacion" data-keywords="github, control de versiones, desarrollo, colaborativo, git, software">
          <h3>üåê Publicaci√≥n sobre GitHub</h3>
          <span class="category-badge">Programaci√≥n</span>
          <p>Aprende sobre control de versiones y desarrollo colaborativo.</p>
          <a href="dominio.html" class="btn-secondary" target="_blank" rel="noopener noreferrer">Leer art√≠culo</a>
        </article>

        <article data-category="entretenimiento" data-keywords="juegos, games, interactivo, diversi√≥n, entretenimiento, gaming">
          <h3>üéÆ √Årea de Juegos</h3>
          <span class="category-badge">Entretenimiento</span>
          <p>Explora juegos y proyectos interactivos.</p>
          <a href="PublicasionAreaDeJuegos.html" class="btn-secondary" target="_blank" rel="noopener noreferrer">Ir a juegos</a>
        </article>

        <article data-category="general" data-keywords="primera, publicaci√≥n, inicio, bienvenida, art√≠culo">
          <h3>üìñ Mi Primera Publicaci√≥n</h3>
          <span class="category-badge">General</span>
          <p>Lee mi primer art√≠culo en este sitio.</p>
          <a href="PrimerPublicasion.html" class="btn-secondary" target="_blank" rel="noopener noreferrer">Leer art√≠culo</a>
        </article>

        <article data-category="escolares" data-keywords="cursos, aprendizaje, educaci√≥n, recursos, formaci√≥n, ense√±anza">
          <h3>üìö Cursos</h3>
          <span class="category-badge">Escolares</span>
          <p>Accede a recursos y cursos √∫tiles para aprender.</p>
          <a href="cursos.html" class="btn-secondary">Ver cursos</a>
        </article>
      </div>
    </section>

  </main>

  <!-- Pie de P√°gina -->
  <footer role="contentinfo" aria-label="Pie de p√°gina">
    <div class="footer-content">
      <h2>Sa√∫l | M√∫sico y Programador</h2>
      <p>
        ¬© 2025 P√°gina de Sa√∫l. Todos los contenidos est√°n protegidos por la licencia 
        <a href="https://creativecommons.org/licenses/by-nc-nd/4.0/deed.es_MX" 
           target="_blank" 
           rel="noopener noreferrer"
           aria-label="Creative Commons Atribuci√≥n-NoComercial-SinDerivadas 4.0 Internacional">
          Creative Commons BY-NC-ND 4.0
        </a>.
      </p>
      <p class="license-description">
        Puedes compartir el contenido siempre que reconozcas la autor√≠a, no lo utilices con fines comerciales y no lo modifiques.
      </p>
    </div>
  </footer>

  <!-- Script -->
  <script>
    // ===============================================
    // VARIABLES GLOBALES
    // ===============================================
    let fontSizeMultiplier = 1;
    let horaAnunciada = false;

    // ===============================================
    // OBJETO DE CONFIGURACI√ìN - PUBLICACIONES
    // ===============================================
    const publicaciones = [
      {
        titulo: 'Simulador Braille',
        url: 'SimuladorBralle.html',
        categoria: 'otros',
        palabrasClave: ['braille', 'simulador', 'accesibilidad', 'interactivo', 'herramienta', 'sistema']
      },
      {
        titulo: 'Derecho a la Educaci√≥n',
        url: 'publicasiondepotcas.html',
        categoria: 'escolares',
        palabrasClave: ['educacion', 'derecho', 'politicas', 'escolar', 'derechos', 'acceso']
      },
      {
        titulo: 'Publicaci√≥n sobre GitHub',
        url: 'dominio.html',
        categoria: 'programacion',
        palabrasClave: ['github', 'control', 'versiones', 'desarrollo', 'colaborativo', 'git', 'software', 'codigo']
      },
      {
        titulo: '√Årea de Juegos',
        url: 'PublicasionAreaDeJuegos.html',
        categoria: 'entretenimiento',
        palabrasClave: ['juegos', 'games', 'interactivo', 'diversion', 'entretenimiento', 'gaming', 'divertido']
      },
      {
        titulo: 'Mi Primera Publicaci√≥n',
        url: 'PrimerPublicasion.html',
        categoria: 'general',
        palabrasClave: ['primera', 'publicacion', 'inicio', 'bienvenida', 'articulo', 'primer']
      },
      {
        titulo: 'Cursos',
        url: 'cursos.html',
        categoria: 'escolares',
        palabrasClave: ['cursos', 'aprendizaje', 'educacion', 'recursos', 'formacion', 'ensenanza', 'clases']
      }
    ];

    // ===============================================
    // UTILIDADES DEL DOM
    // ===============================================
    const DOM = {
      toggleAccessibility: document.getElementById('toggleAccessibility'),
      accessibilityMenu: document.getElementById('accessibilityMenu'),
      btnIncrease: document.getElementById('btnIncrease'),
      btnDecrease: document.getElementById('btnDecrease'),
      btnReset: document.getElementById('btnReset'),
      btnContrast: document.getElementById('btnContrast'),
      btnDarkMode: document.getElementById('btnDarkMode'),
      horaActual: document.getElementById('horaActual'),
      btnSearch: document.getElementById('btnSearch'),
      searchInput: document.getElementById('searchInput'),
      searchResults: document.getElementById('searchResults'),
      filterCategory: document.getElementById('filterCategory'),
    };

    // ===============================================
    // FUNCIONES DE ACCESIBILIDAD - MEN√ö
    // ===============================================
    DOM.toggleAccessibility.addEventListener('click', function() {
      const isHidden = DOM.accessibilityMenu.hasAttribute('hidden');
      if (isHidden) {
        DOM.accessibilityMenu.removeAttribute('hidden');
        this.setAttribute('aria-expanded', 'true');
      } else {
        DOM.accessibilityMenu.setAttribute('hidden', '');
        this.setAttribute('aria-expanded', 'false');
      }
    });

    // ===============================================
    // FUNCIONES DE ACCESIBILIDAD - TAMA√ëO DE TEXTO
    // ===============================================
    DOM.btnIncrease.addEventListener('click', function() {
      fontSizeMultiplier = Math.min(2, fontSizeMultiplier + 0.1);
      document.documentElement.style.fontSize = (16 * fontSizeMultiplier) + 'px';
    });

    DOM.btnDecrease.addEventListener('click', function() {
      fontSizeMultiplier = Math.max(0.8, fontSizeMultiplier - 0.1);
      document.documentElement.style.fontSize = (16 * fontSizeMultiplier) + 'px';
    });

    DOM.btnReset.addEventListener('click', function() {
      fontSizeMultiplier = 1;
      document.documentElement.style.fontSize = '16px';
    });

    // ===============================================
    // FUNCIONES DE ACCESIBILIDAD - CONTRASTE Y MODO
    // ===============================================
    DOM.btnContrast.addEventListener('click', function() {
      document.body.classList.toggle('high-contrast');
    });

    DOM.btnDarkMode.addEventListener('click', function() {
      document.body.classList.toggle('dark-mode');
    });

    // ===============================================
    // FUNCI√ìN DE HORA - SOLO MUESTRA, NO ANUNCIA
    // ===============================================
    function updateTime() {
      const now = new Date();
      const timeString = now.toLocaleTimeString('es-MX', { 
        hour: '2-digit', 
        minute: '2-digit', 
        second: '2-digit' 
      });
      DOM.horaActual.textContent = 'Hora actual: ' + timeString;
    }

    // Actualizar hora solo una vez al cargar y cada 10 segundos (no cada segundo)
    updateTime();
    setInterval(updateTime, 10000);

    // ===============================================
    // FUNCI√ìN DE B√öSQUEDA - MEJORADA
    // ===============================================
    function performSearch() {
      const keyword = DOM.searchInput.value.toLowerCase().trim();
      const category = DOM.filterCategory.value;
      DOM.searchResults.innerHTML = '';

      // Validaci√≥n: si no hay b√∫squeda y no hay categor√≠a seleccionada
      if (!keyword && !category) {
        DOM.searchResults.innerHTML = '<p class="no-results">Ingresa una palabra clave o selecciona una categor√≠a para buscar.</p>';
        return;
      }

      // Filtrar publicaciones
      const resultados = publicaciones.filter(pub => {
        // Verificar categor√≠a
        const coincideCategoria = !category || pub.categoria === category;

        // Verificar palabras clave
        let coincideBusqueda = true;
        if (keyword) {
          coincideBusqueda = pub.palabrasClave.some(palabra => palabra.includes(keyword));
        }

        return coincideCategoria && coincideBusqueda;
      });

      // Mostrar resultados
      if (resultados.length === 0) {
        DOM.searchResults.innerHTML = `<p class="no-results">No se encontraron publicaciones con tu b√∫squeda "${keyword}" ${category ? 'en la categor√≠a: ' + category : ''}.</p>`;
        return;
      }

      DOM.searchResults.innerHTML = '';
      resultados.forEach(pub => {
        const resultHTML = `
          <article class="search-result">
            <h4>${pub.titulo}</h4>
            <span class="category-badge">${pub.categoria.charAt(0).toUpperCase() + pub.categoria.slice(1)}</span>
            <p>Categor√≠a: <strong>${pub.categoria}</strong></p>
            <a href="${pub.url}" class="btn-secondary" ${pub.url.includes('http') ? 'target="_blank" rel="noopener noreferrer"' : ''}>Ir a la publicaci√≥n</a>
          </article>
        `;
        DOM.searchResults.innerHTML += resultHTML;
      });

      // Anunciar a lectores de pantalla
      const mensaje = `Se encontraron ${resultados.length} publicaci√≥n${resultados.length !== 1 ? 'es' : ''}`;
      const announcement = document.createElement('div');
      announcement.setAttribute('role', 'status');
      announcement.setAttribute('aria-live', 'polite');
      announcement.classList.add('visually-hidden');
      announcement.textContent = mensaje;
      DOM.searchResults.prepend(announcement);
    }

    // ===============================================
    // EVENT LISTENERS - B√öSQUEDA
    // ===============================================
    DOM.btnSearch.addEventListener('click', performSearch);

    DOM.searchInput.addEventListener('keypress', function(e) {
      if (e.key === 'Enter') {
        performSearch();
      }
    });

    // Buscar tambi√©n cuando cambie la categor√≠a
    DOM.filterCategory.addEventListener('change', performSearch);

    // ===============================================
    // MOSTRAR HORA AL CARGAR
    // ===============================================
    document.addEventListener('DOMContentLoaded', function() {
      updateTime();
    });

    // ===============================================
    // OCULTAR / ENCoger LOGO AL HACER SCROLL
    // ===============================================
    (function() {
      const headerEl = document.querySelector('header');
      const SCROLL_THRESHOLD = 100; // px, cambiar si se desea

      function onScrollHeader() {
        const sc = window.scrollY || window.pageYOffset;
        if (sc > SCROLL_THRESHOLD) {
          headerEl.classList.add('header-compact');
        } else {
          headerEl.classList.remove('header-compact');
        }
      }

      window.addEventListener('scroll', onScrollHeader, { passive: true });
      // Evaluar al cargar para estado inicial
      onScrollHeader();
    })();
  </script>

</body>
</html>